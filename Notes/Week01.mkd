COM3505 week 01 course notes
===

# The Lecture

This week's lecture slides are here: https://goo.gl/HejEFz


# Learning Objectives

Our objectives this week are to:

- get to know the Diamond electronics lab
- understand how to prototype basic circuits on a breadboard
- practice soldering on a simple circuit
- learn about measuring simple values in the electronics lab
- check out the course materials from github
- set up the programming environment and start coding


# Assignments and Assessment

- Accept the github classroom assignment (by clicking on the link). This will
  create a git repository for you, hosted on github. All your work **must** be
  pushed to this repository promptly each week. The assignment URL is:
  https://tinyurl.com/com3505-2018-repo
- Use the Linux option when booting machines in the electronics lab.
- Check out the repository from github into your own file space. (If you're
  reading this from there then you've done that task!)
    - `git clone ...url...`
    - Note: don't "download" from github, you need to "clone".
- Use any method you like to post your Sheffield email address and github ID
  to our server. The URL was given during the lecture.
- Learn a little C! See the resources listed in the lecture slides for help.
- Study the notes below about LiPo batteries.


## Set up your environment

- copy the libraries and support files for ESP32 on the Arduino IDE
    - [linux/ubuntu]:
        - in the top left of your desktop (possibly hidden by the browser) you
          should have an icon "Access-U-drive"; click on it and enter your
          password
        - you should now have "Access-Shared-Resources"; click on it
        - open a terminal (Cntrl&T)
        - create a link to your U drive filespace and move there:
            - `cd; ln -s $U u-drive`
            - `cd u-drive`
        - unpack the Arduino libraries and compiler chain:
            - `tar xvzf /mnt/resources/arduino/Public/Arduino.tgz`
        - in your home directory make a link to the Arduino directory that you
          just created:
            - `cd; ln -s u-drive/Arduino`
    - [windows]:
        - on each new machine you use:
        - is Arduino installed? if not go to Software Center and install
          Arduino-1.8.4-MSI
        - you also need a specific set of libraries which are available from
          the Software Center called `Arduino COM3505 Libraries and Hardware`
    - on your own machines: install the Arduino IDE from
      https://www.arduino.cc/ and then follow the instructions at
      https://github.com/espressif/arduino-esp32
- you should now have something like this:
    - `com3505-labs-YourGitHubId/MyThing/`: your code goes here
    - `com3505-labs-YourGitHubId/Notes/`  : weekly notes update
    - `Arduino/`: libraries & core to support ESP32
    - from Week 2 you'll also have
      `com3505-labs-YourGitHubId/Thing/`  : weekly model code update
    - **NOTE**: DON'T edit the `Thing/\*` and `Notes/\*` trees!
- set up the Arduino IDE
    - from the Linux terminal do: `/apps/arduino/arduino`
    - from Windows use the start menu to run `Arduino 1.8.4`
    - (**note**: this step is not needed if you have linked this in your home
      directory) in the File > Preferences dialog, set the `Sketchbook
      location` to point to your copy of the Arduino dir
    - use an external editor if you like
    - **don't** ask the IDE to update your libraries -- we'll do that via your
      github repo -- so uncheck File > Preferences > Check for updates on
      startup
- get ready to code
    - plug in your ESP32
    - open the MyThing sketch
    - select the board (Adafruit ESP32 Feather) from the Tools menu
    - select the port (probably `/dev/ttyUSB0` or `/dev/ttyUSB1` on Ubuntu)
    - serial monitor baud rate should be 115200


# Timetable

- **Notes**:
    - Sorry this is so complex! The Diamond Electronics Lab (DIA 2.02) is very
      popular...
    - We have one lecture (of one hour) and one lab (of two hours) per week.
    - Diamond 2.02 is the electronics lab.
    - Diamond 1.01 is the project space (where you can use the iForge
      facilities).
    - NC PC is the North Campus PC lab; enter from Broad Lane, turn right
      through the gates and it is on the ground floor of the big grey
      portacabin on your right. (Allow lots of travel time!)
- Weekly schedule:
    - Lectures
        - DIA LT5  11am--12pm Fridays weeks 1-12
    - Labs (assessments: **week 4**, **week 12**)
        - DIA 2.02
            -      12pm--2pm  Fridays weeks 1,7,9,10,12
            -       1pm--3pm  Friday  week  8
            -       9am--11am Mondays weeks 2-6,11
    - MOLE quizzes (one mock, in week 7, one exam, in **week 12**)
        - NC PC     9am--11am Mondays weeks 7,12
    - Week by week:
        - Week  1
            - Fri 11-12 LT5       lecture  1
            - Fri 12-2  DIA 2.02  lab      1
        - Week  2
            - Mon  9-11 DIA 2.02  lab      2
            - Fri 11-12 LT5       lecture  2
        - Week  3
            - Mon  9-11 DIA 2.02  lab      3
            - Fri 11-12 LT5       lecture  3
        - Week  4
            - Mon  9-11 DIA 2.02  lab      4
            - Fri 11-12 LT5       lecture  4
        - Week  5
            - Mon  9-11 DIA 2.02  [LAB ASS 1]
            - Fri 11-12 LT5       lecture  5
        - Week  6 [READING WEEK]
            - Mon  9-11 DIA 2.02  spare lab
        - Week  7
            - Mon  9-11 NC PC [MOLE Q mock]
            - Fri 11-12 LT5       lecture  6
            - Fri 12-2  DIA 2.02  lab      5
        - Week  8
            - Fri 11-12 LT5       lecture  7
            - Fri  1-3  DIA 2.02  lab      6
        - Week  9
            - Fri 11-12 LT5       lecture  8
            - Fri 12-2  DIA 2.02  lab      7
        - Week 10
            - Fri 11-12 LT5       lecture  9
            - Fri 12-2  DIA 2.02  lab      8
        - Week 11
            - Mon  9-11 DIA 2.02  lab      9
            - Fri 11-12 LT5       lecture 10
        - Week 12
            - Mon  9-11 NC PC [MOLE Q exam]
            - Fri 12-2  DIA 2.02  [LAB ASS 2]


# Reading

- Schneier, Bruce. 2017. “Click Here to Kill Everyone.” NY Mag, January.
  http://nymag.com/selectall/2017/01/the-internet-of-things-dangerous-future-bruce-schneier.html.
- Ashton, Kevin. 2011. “That ‘Internet of Things’ Thing.” RFiD Journal 22 (7).
  http://www.itrco.jp/libraries/RFIDjournal-That%20Internet%20of%20Things%20Thing.pdf
- NERC. 2016. “NERC Guidance on the Safe Use of Lithium Batteries.”
  http://www.nerc.ac.uk/about/policy/safety/procedures/guidance-lithium-batteries/


# LiPo Safety

## What are lithium polymer batteries?

Lithium Polymer (or LiPo) cells are one of the most effective commercially
available rechargeable batteries, having high energy and power density. These
batteries are used in all manner of mobile applications and are particularly
popular with remote control (RC) hobbyists.

You will be given a LiPo battery in the second half of term as part of the
ESP32 project hardware for COM3505. The battery is inside a case with the
other electronics, but is potentially dangerous if the case is damaged or
removed.

## What are the dangers?

Although these cells are very useful, they can be dangerous when mistreated or
misused. There are three main causes of cell failure: puncture, over-heating
and over-charging. If the battery fails as a result of any of these, hazardous
electrolyte leakage, fire or explosions may occur.

The rate of transfer of energy within the battery is strongly linked to its
internal heat; when over-heated the cell's long term performance will degrade,
more energy is released and the battery gets hotter, creating a dangerous
feedback loop. If this continues the electrolyte will vaporise and cause the
battery to expand, which may lead to fire or even an explosion.

This same effect can be caused by over-charging the battery, or in some cases
even just leaving it charged in the wrong circumstances. Henry (one of our
previous teaching assistants on the course) used to fly an RC helicopter that
ran off a multi-cell LiPo pack. Having forgotten to discharge it, it was left
in a container in his shed. Many months later the cell exploded in a ball of
flame nearly burning down the shed!

The sensitive chemistry of the batteries can also lead to fire if the battery
gets punctured and vents into the air.

## Avoiding problems

**ALWAYS** take the following precautions when using LiPos in COM3505:

- Only use the battery as installed in the hardware we gave you.
- Only charge the battery using the board which we gave you.
- Regularly inspect the hardware, especially if you need to open the case to
  make connections; check the battery visually for damage, heating or possible
  puncture. If you spot anything potentially problematic inform a member of
  staff immediately.
- If a battery becomes hot:
    - if it appears safe to do so, unplug it from the power source
    - warn others present to move away from the battery and do so yourself
    - inform a member of staff immediately
- If you are at all unsure of any of these instructions please inform a member
  of staff.
- See also https://goo.gl/HyrxFb
